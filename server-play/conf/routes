# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# An example controller showing a sample home page
GET     /                           controllers.HealthController.index

# Map static resources from the /public folder to the /assets URL path
GET     /assets/*file               controllers.Assets.versioned(path="/public", file: Asset)

GET     /health                 controllers.HealthController.index

GET     /poll                       controllers.DispatcherController.poll()
GET     /poll/:nodeId               controllers.DispatcherController.pollFromNode(nodeId: Long)
GET     /poll/:nodeId/:jobId        controllers.DispatcherController.pollFromNodeForJob(nodeId: Long, jobId: Long)

GET     /checkins                controllers.NodeCheckinsController.getCheckins()
GET     /checkins/:nodeCheckinId    controllers.NodeCheckinsController.getCheckinById(nodeCheckinId: Long)
GET     /checkins/byNode/:nodeId    controllers.NodeCheckinsController.getCheckinsByNode(nodeId: Long)
GET     /checkins/byJob/:jobId      controllers.NodeCheckinsController.getCheckinsByJob(jobId: Long)
POST     /checkin    controllers.NodeCheckinsController.checkin()

GET     /jobs                       controllers.JobController.index()
GET     /jobs/:jobId                    controllers.JobController.getJob(jobId: Long)
POST    /jobs                          controllers.JobController.create()
PUT     /jobs/:jobId                    controllers.JobController.updateJob(jobId: Long)
DELETE  /jobs/:jobId                    controllers.JobController.deleteJob(jobId: Long)

# Get the progress of a bruteforce attack
GET     /jobs/:jobId/progress           controllers.BruteforceProgressController.getProgress(jobId: Long)

# Get job responses
GET     /jobResponses                       controllers.JobResponseController.getResponses()
GET     /jobs/:jobId/responses              controllers.JobResponseController.getResponsesByJobId(jobId: Long)
GET     /jobs/responses/:responseId     controllers.JobResponseController.getResponseById(responseId: Long)

POST    /jobs/:jobId/saveResponse      controllers.JobResponseController.create(jobId: Long)
POST    /jobs/:jobId/saveMatch         controllers.JobMatchController.create(jobId: Long)


# Grab a list of nodes
GET     /nodes                          controllers.NodeController.index()
GET     /nodes/:nodeId                  controllers.NodeController.getNodeById(nodeId: Long)

# Handle upload / use of dictionary files
GET     /dictionaries                   controllers.DictionaryController.index()
GET     /dictionaries/:dictionaryId     controllers.DictionaryController.getDictionary(dictionaryId: Long)
POST    /dictionaries                   controllers.DictionaryController.create()
DELETE  /dictionaries/:dictionaryId     controllers.DictionaryController.deleteDictionary(dictionaryId: Long)




